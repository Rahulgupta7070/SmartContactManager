<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="base::layout(~{::section})">

<head>
    <meta charset="UTF-8" />
    <title th:text="${title}">Register</title>
    <link rel="stylesheet" th:href="@{/css/signup.css}" />
    <!-- include bootstrap css if you use its classes -->
    
   
    <!-- Bootstrap CDN (agar already base.html me nahi h to include karna) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
   <!-- Font Awesome CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

    
</head>

<body class="dark-mode light-mode">
<section>
    <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">

                <div class="mycard mt-3">

                    <!-- ===== ALERT (SESSION VERSION) ===== -->
                    <!-- 
                    <div th:if="${session.message}" 
                         class="alert" 
                         th:classappend="${session.message.type}">
                        <p class="text-center" th:text="${session.message.content}"></p>
                        <th:block th:text="${#session.removeAttribute('message')}"></th:block>
                    </div>
                    -->

                    <!-- ===== ALERT (MODEL VERSION - SIMPLE) ===== -->
                    <!-- 
                    <div th:if="${message}" 
                         class="alert" 
                         th:classappend="${message.type}">
                        <p class="text-center" th:text="${message.content}"></p>
                    </div>
                    -->

                    <!-- ===== ALERT (MODEL VERSION - OLD STYLED) ===== -->
                    <!--
                    <div th:if="${message}" 
                         class="alert alert-dismissible fade show" 
                         th:classappend="${message.type}" 
                         role="alert" 
                         style="max-width: 500px; margin: 20px auto; text-align: center; font-weight: 600; font-size: 1.1rem;">
                        <span th:text="${message.content}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    -->

                    <!-- ===== ALERT (MODEL VERSION - FINAL) ===== -->
                    <div th:if="${message}" 
                         class="alert alert-dismissible fade show" 
                         th:classappend="${message.type}" 
                         role="alert" 
                         style="
                            max-width: 500px; 
                            margin: 20px auto; 
                            padding: 1rem 1.5rem; 
                            font-weight: 600; 
                            font-size: 1.2rem; 
                            border-radius: 12px; 
                            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                            text-align: center;">
                        <span th:text="${message.content}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>

                    <!-- ===== FORM IMAGE ===== -->
                    <div class="container text-center">
                        <img style="width:80px;" th:src="@{/image/form1.png}" alt="form image" />
                    </div>

                    <!-- ===== FORM TITLE ===== -->
                    <h1 class="text-center">Register Here !!</h1>

                    <!-- ===== REGISTRATION FORM ===== -->
                    <!-- use th:object so field binding gets simpler -->
                    <form novalidate th:action="@{/do_register}" th:object="${user}" method="post">

                        <!-- ===== NAME FIELD ===== -->
                        <div class="form-group">
                            <label for="name_field">Your Name</label>
                            <input th:field="*{name}"
                                   type="text"
                                   class="form-control"
                                   
                                   th:classappend="${#fields.hasErrors('name')} ? 'is-invalid':''"
                                   
                                   id="name_field"
                                   placeholder="Enter your name" />
                                   
                                   
                            <div class="invalid-feedback"
                                 th:each="e : ${#fields.errors('name')}"
                                 th:text="${e}"></div>

                            <!-- ye bhi likh skte hai validation jo per likha same kam hai  -->
                            <!--  
                            <input th:field="*{name}" 
                                   type="text" 
                                   class="form-control"
                                   th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : ''"
                                   placeholder="Enter your name" />
                            <div class="invalid-feedback"
                                 th:if="${#fields.hasErrors('name')}"
                                 th:errors="*{name}">
                            </div>
                            -->
                        </div>

                        <!-- ===== EMAIL FIELD ===== -->
                        <div class="form-group">
                            <label for="email_field">Your Email</label>
                            <input th:field="*{email}"
                                   type="email"
                                   
                                   th:classappend="${#fields.hasErrors('email')} ? 'is-invalid':''"
                                   
                                   class="form-control"
                                   id="email_field"
                                   placeholder="Enter here"
                                   required />
                                   
                                  <div class="invalid-feedback"
                                   th:each="e : ${#fields.errors('email')}"
                                 th:text="${e}"></div>
                        </div>

                        <!-- ===== PASSWORD FIELD ===== -->
                        <div class="form-group password-wrapper">
                            <label for="password_field">Your Password</label>
                            <input th:field="*{password}"
                                   type="password"
                                   
                                   th:classappend="${#fields.hasErrors('password')} ? 'is-invalid':''"
                                   
                                   class="form-control"
                                   id="password_field"
                                   placeholder="Enter here"
                                   required 
                                   />
              
                                     <!-- Eye icon -->
    <i class="fa-solid fa-eye toggle-password" 
       data-target="password_field" 
       style="position:absolute; top:50%; right:15px; transform:translateY(-50%); cursor:pointer; color:#6c757d;"></i>
                                   
                                  <div class="invalid-feedback"
                                  th:each="e : ${#fields.errors('password')}"
                                  th:text="${e}">
                                  
                                 
                                  
                                  
                                  
                                  </div>
                                   
                        </div>

                        <!-- ===== ABOUT FIELD ===== -->
                        <div class="form-group">
                            <label for="about_field">About you</label>
                            <textarea th:field="*{about}"
                                      id="about_field"
                                      
                                      th:classappend="${#fields.hasErrors('about')} ? 'is-invalid':''"
                                      
                                      placeholder="Enter something about yourself"
                                      rows="6"
                                      class="form-control"></textarea>
                                      
                                     <div class="invalid-feedback"
                                     th:each="e : ${#fields.errors('about')}"
                                     th:text="${e}"></div>
                        </div>

                        <!-- ===== TERMS & CONDITIONS ===== -->
                        <div class="form-group form-check text-center d-flex justify-content-center align-items-center">
                            <input type="checkbox" name="agreement" class="form-check-input me-2  border-primary" id="agreement"   th:checked="${agreement}"/>
                            <label for="agreement">Accept terms and condition</label>
                        </div>

                        <!-- ===== FORM BUTTONS ===== -->
                        <div class="container text-center">
                            <button type="submit" class="btn bg-primary text-white">Submit</button>
                            <button type="reset" class="btn bg-warning">Reset</button>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
     <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Toggle Password Script -->
  <script>
  $(document).ready(() => {
    $(".toggle-password").on("click", function () {
        let inputId = $(this).data("target");
        let input = $("#" + inputId);

        if (input.attr("type") === "password") {
            input.attr("type", "text");
            $(this).removeClass("fa-eye").addClass("fa-eye-slash");
        } else {
            input.attr("type", "password");
            $(this).removeClass("fa-eye-slash").addClass("fa-eye");
        }
    });
});

</script>
</section>


</body>
</html>
